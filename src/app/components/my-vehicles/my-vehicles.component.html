<div class="my-vehicles-page">
  <!-- Left Column: Vehicle Cards -->
  <div class="left-column">
    <!-- Profile Welcome Section -->
    <div class="profile-welcome-section">
      <img [src]="profilePicture"
           alt="Profile Picture"
           class="profile-picture"
           (click)="navigateToProfile()"
           style="cursor: pointer;"
           (error)="profilePicture = '/Assets/default-profile.png'" />
      <div class="welcome-message">
        <h2>{{ welcomeMessage }}</h2>
        <div class="profile-quick-info">
          <div class="info-badge">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>{{ profileName }}</span>
          </div>
          <div class="info-badge" *ngIf="carOwnerProfile?.email">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
            <span>{{ carOwnerProfile.email }}</span>
          </div>
          <div class="info-badge">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span>{{ vehicles.length }} Vehicle{{ vehicles.length !== 1 ? 's' : '' }}</span>
          </div>
        </div>
      </div>
    </div>    <div class="vehicles-section">
      <div class="section-header">
        <div class="title-section">
          <div>
            <h1>My Vehicles</h1>
            <p class="subtitle">Monitor and manage your cars</p>
          </div>
        </div>
        <button class="add-car-btn" (click)="openAddVehicleModal()">
          <span class="plus-icon">+</span> Add Car
        </button>
      </div>

      <div class="vehicles-list">
        <!-- Show vehicle cards only when there are vehicles -->
        <ng-container *ngIf="vehicles && vehicles.length > 0; else emptyState">
          <div *ngFor="let vehicle of vehicles" class="vehicle-card" [class.active]="vehicle.id === selectedVehicleId" (click)="selectVehicle(vehicle)">
            <!-- Card Top Accent -->
            <div class="card-accent"></div>

            <!-- Car Icon/Illustration -->
            <div class="vehicle-icon-section">
              <img src="/Assets/images/Generic-Car2.jpg" alt="Car" class="vehicle-icon-img" />
            </div>

            <!-- Vehicle Header with Title and Actions -->
            <div class="vehicle-header">
              <div class="vehicle-title-section">
                <h2 class="vehicle-title">{{ vehicle.make }} {{ vehicle.model }}</h2>
                <div class="vehicle-meta">
                  <span class="vehicle-year">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                      <line x1="16" y1="2" x2="16" y2="6"/>
                      <line x1="8" y1="2" x2="8" y2="6"/>
                      <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                    {{ vehicle.year }}
                  </span>
                  <span class="vehicle-separator">‚Ä¢</span>
                  <span class="license-plate">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="2" y="7" width="20" height="10" rx="2" ry="2"/>
                      <line x1="7" y1="12" x2="17" y2="12"/>
                    </svg>
                    {{ vehicle.licensePlate }}
                  </span>
                </div>
              </div>
              <div class="vehicle-actions">
                <button class="action-btn edit-btn" aria-label="View details" (click)="navigateToCarDetails(vehicle, $event)" title="View Details">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                  </svg>
                </button>
                <button class="action-btn delete-btn" aria-label="Delete vehicle" (click)="promptDelete(vehicle, $event)" title="Delete Vehicle">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="3 6 5 6 21 6"/>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                    <line x1="10" y1="11" x2="10" y2="17"/>
                    <line x1="14" y1="11" x2="14" y2="17"/>
                  </svg>
                </button>
              </div>
            </div>

            <!-- Mileage Info Card -->
            <div class="mileage-card">
              <div class="mileage-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"/>
                  <polyline points="12 6 12 12 16 14"/>
                </svg>
              </div>
              <div class="mileage-info">
                <span class="mileage-label">Current Mileage</span>
                <span class="mileage-value">{{ vehicle.currentMileage | number }} <small>km</small></span>
              </div>
            </div>

            <!-- Maintenance Items -->
            <div class="maintenance-items" *ngIf="vehicle.maintenanceItems && vehicle.maintenanceItems.length > 0">
              <div class="maintenance-header">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                </svg>
                <span>Maintenance Status</span>
              </div>
              <div class="maintenance-grid">
                <div
                  *ngFor="let item of vehicle.maintenanceItems"
                  class="maintenance-item"
                  [ngClass]="getMaintenanceColor(item.remainingKm)">
                  <div class="item-icon-wrapper">
                    <span class="item-icon">{{ item.icon }}</span>
                  </div>
                  <div class="item-content">
                    <span class="item-name">{{ item.name }}</span>
                    <span class="item-km">{{ item.remainingKm | number }} km</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Dashboard Indicators -->
            <div class="dashboard-indicators-section" *ngIf="vehicle.dashboardIndicators && vehicle.dashboardIndicators.length > 0">
              <div class="dashboard-indicators-header">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                </svg>
                <span>Dashboard Indicators</span>
              </div>
              <div class="dashboard-indicators-grid">
                <div *ngFor="let indicator of vehicle.dashboardIndicators" class="dashboard-indicator-badge">
                  <span class="badge-icon">{{ indicator.icon }}</span>
                  <span class="badge-label">{{ indicator.label }}</span>
                </div>
              </div>
            </div>
          </div>
        </ng-container>

        <!-- Empty state for new users -->
        <ng-template #emptyState>
          <div class="empty-vehicles">
            <svg class="empty-icon" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 17h-2v-6l2-5h9l4 5v6h-2"/>
              <circle cx="7" cy="17" r="2"/>
              <circle cx="17" cy="17" r="2"/>
              <path d="M5 9l1.5-4.5h7L15 9"/>
            </svg>
            <h3>No vehicles yet</h3>
            <p class="empty-text">Start by adding your first vehicle to track maintenance and expenses</p>
            <button class="empty-cta-btn" (click)="openAddVehicleModal()">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"/>
                <line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
              Add Your First Vehicle
            </button>
          </div>
        </ng-template>
      </div>
    </div>

    <!-- Book a Service Section -->
    <div class="book-service-section">
      <h2 class="section-title">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline; vertical-align: middle; margin-right: 8px;">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          <line x1="16" y1="2" x2="16" y2="6"/>
          <line x1="8" y1="2" x2="8" y2="6"/>
          <line x1="3" y1="10" x2="21" y2="10"/>
        </svg>
        Book a Service
      </h2>
      <p class="section-subtitle">Schedule maintenance for your vehicle</p>
      <div class="service-options">
        <button class="service-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"/>
          </svg>
          Electrical
        </button>
        <button class="service-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
          </svg>
          Mechanical
        </button>
        <button class="service-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="2" x2="12" y2="6"/>
            <line x1="12" y1="18" x2="12" y2="22"/>
            <line x1="4.93" y1="4.93" x2="7.76" y2="7.76"/>
            <line x1="16.24" y1="16.24" x2="19.07" y2="19.07"/>
            <line x1="2" y1="12" x2="6" y2="12"/>
            <line x1="18" y1="12" x2="22" y2="12"/>
            <line x1="4.93" y1="19.07" x2="7.76" y2="16.24"/>
            <line x1="16.24" y1="7.76" x2="19.07" y2="4.93"/>
          </svg>
          Seasonal
        </button>
        <button class="service-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M17 21v-2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2"/>
            <path d="M9 21v-2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2"/>
            <path d="M7 9h10v2a5 5 0 0 1-10 0V9z"/>
            <path d="M7 3h10"/>
          </svg>
          A/C
        </button>
        <button class="service-btn sos">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="8" x2="12" y2="12"/>
            <line x1="12" y1="16" x2="12.01" y2="16"/>
          </svg>
          SOS
        </button>
      </div>
    </div>

    <!-- Maintenance History Section -->
    <div class="maintenance-history-section">
      <h2 class="section-title">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline; vertical-align: middle; margin-right: 8px;">
          <circle cx="12" cy="12" r="10"/>
          <polyline points="12 6 12 12 16 14"/>
        </svg>
        Maintenance History
      </h2>
      <p class="section-subtitle">Past services and repairs</p>
      <div class="history-list">
        <div class="history-item">
          <div class="history-info">
            <h3>Auto Expert Galio</h3>
            <p class="service-type">Oil Change & Filter</p>
            <p class="service-details">üìç 123 Main St ¬∑ Next change at 55,000 km</p>
            <button class="view-receipt-btn">üëÅÔ∏è View Receipt</button>
          </div>
          <div class="history-price">EGP 350</div>
        </div>
        <div class="history-item">
          <div class="history-info">
            <h3>Elite Car Service</h3>
            <p class="service-type">Brake Pad Replacement</p>
            <p class="service-details">Front brake pads replaced. Rear pads at 60%</p>
            <button class="view-receipt-btn">üëÅÔ∏è View Receipt</button>
          </div>
          <div class="history-price">EGP 600</div>
        </div>
      </div>
    </div>

    <!-- Expenses Tracker Section -->
    <div class="expenses-section">
      <div class="expenses-header">
        <h2 class="section-title">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline; vertical-align: middle; margin-right: 8px;">
            <line x1="12" y1="1" x2="12" y2="23"/>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
          </svg>
          Expenses Tracker
        </h2>
        <div class="expenses-actions">
          <select class="car-filter-dropdown" (change)="onCarFilterChange($event)" [value]="selectedCarId ?? ''">
            <option value="">Show All</option>
            <option *ngFor="let vehicle of vehicles" [value]="vehicle.id">
              {{ vehicle.year }} {{ vehicle.make }} {{ vehicle.model }}
            </option>
          </select>
          <button class="add-expense-btn" (click)="openAddExpenseModal()">+ Add Expense</button>
        </div>
      </div>
      <p class="section-subtitle">Track fuel, maintenance, and other costs</p>
      <div class="expense-list">
        <div *ngIf="filteredExpenses.length === 0" class="no-expenses">
          <p>No expenses recorded yet. Click "+ Add Expense" to get started!</p>
        </div>
        <div *ngFor="let expense of filteredExpenses" class="expense-item">
          <div class="expense-icon">{{ expense.icon }}</div>
          <div class="expense-info">
            <h4>{{ expense.name }}</h4>
            <p class="expense-meta">
              <span class="expense-date">{{ expense.date | date:'yyyy-MM-dd' }}</span>
              <span class="expense-car-badge">‚Ä¢ {{ getVehicleLabel(expense.carId) }}</span>
            </p>
          </div>
          <div class="expense-actions">
            <span class="expense-amount">EGP {{ expense.amount }}</span>
            <button class="receipt-btn" title="View receipt">üìÑ Receipt</button>
            <button class="delete-expense-btn" title="Delete expense" (click)="deleteExpense(expense.id)" [disabled]="expense.id && deletingExpenseIds.has(expense.id)">
              <!-- small trash svg -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="16" height="16" aria-hidden="false" focusable="false">
                <path fill="currentColor" d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32H320l-7.2-14.3C307.6 6 296.9 0 285 0H163c-11.9 0-22.6 6-27.8 17.7zM53.2 467c1.5 25.7 22.9 45 48.6 45h243.5c25.7 0 47.1-19.3 48.6-45L416 128H32l21.2 339z"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Expense Modal -->
    <div *ngIf="isAddExpenseModalOpen" class="modal-overlay">
      <div class="modal-container" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h3>Add New Expense</h3>
          <button class="modal-close-btn" (click)="closeAddExpenseModal()">‚úï</button>
        </div>
        <div *ngIf="expenseMessage" class="alert" [ngClass]="expenseMessageType === 'success' ? 'success' : 'error'">
          {{ expenseMessage }}
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="expense-car">Car</label>
            <select id="expense-car" [(ngModel)]="newExpenseForm.carId" class="form-input" required #carModel="ngModel">
              <option [ngValue]="null" disabled>Select Car</option>
              <option *ngFor="let v of vehicles" [ngValue]="v.id">
                {{ v.make }} {{ v.model }} ({{ v.year }}) - {{ v.licensePlate }}
              </option>
            </select>
            <div class="field-error" *ngIf="submittedExpense && carModel.invalid">Car is required.</div>
          </div>
          <div class="form-group">
            <label for="expense-type">Expense Type</label>
            <select id="expense-type" [(ngModel)]="newExpenseForm.expenseType" (change)="updateExpenseType(newExpenseForm.expenseType)" class="form-input" required #typeModel="ngModel">
              <option value="" disabled>Select Expense Type</option>
              <option *ngFor="let type of expenseTypes" [value]="type">{{ type }}</option>
            </select>
            <div class="field-error" *ngIf="submittedExpense && typeModel.invalid">Expense type is required.</div>
          </div>
          <div class="form-group">
            <label for="expense-date">Date</label>
            <input id="expense-date" type="date" [(ngModel)]="newExpenseForm.expenseDate" class="form-input" />
          </div>
          <div class="form-group">
            <label for="expense-amount">Amount (EGP)</label>
            <input id="expense-amount" type="number" min="0.01" step="0.01" [(ngModel)]="newExpenseForm.amount" placeholder="0.00" class="form-input" required #amountModel="ngModel" />
            <div class="field-error" *ngIf="submittedExpense && (amountModel.invalid || (newExpenseForm.amount ?? 0) <= 0)">
              Amount must be greater than 0.
            </div>
          </div>
          <div class="form-group">
            <label for="expense-desc">Description</label>
            <textarea id="expense-desc" rows="3" class="form-input" [(ngModel)]="newExpenseForm.description" placeholder="Optional description..."></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-cancel" (click)="closeAddExpenseModal()" [disabled]="isSavingExpense">Clear</button>
          <button class="btn-save" (click)="addExpense()" [disabled]="isSavingExpense">Add Expense</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Right Column: Sidebar -->
  <div class="right-column">
    <!-- Upcoming Maintenance Section -->
    <div class="upcoming-maintenance-section">
      <h2 class="section-title">üîß Upcoming Maintenance</h2>
      <div class="maintenance-list">
        <div class="upcoming-item">
          <div class="item-name-section">
            <span class="item-icon-small">üíß</span>
            <span>Oil Change</span>
          </div>
          <div class="item-details">
            <p class="item-date">Due: 2025-11-28</p>
            <span class="badge badge-soon">Soon</span>
          </div>
        </div>
        <div class="upcoming-item">
          <div class="item-name-section">
            <span class="item-icon-small">üîß</span>
            <span>Air Filter Replacement</span>
          </div>
          <div class="item-details">
            <p class="item-date">Due: 2025-12-12</p>
            <span class="badge badge-due">Due</span>
          </div>
        </div>
        <div class="upcoming-item">
          <div class="item-name-section">
            <span class="item-icon-small">üîã</span>
            <span>Battery Check</span>
          </div>
          <div class="item-details">
            <p class="item-date">Due: 2026-01-15</p>
            <span class="progress-bar">
              <span class="progress-fill" style="width: 30%"></span>
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Tips & News Section -->
    <div class="tips-section">
      <h2 class="section-title">üí° Tips & News</h2>

      <div class="tip-card">
        <h3>‚ö†Ô∏è Winter Maintenance Tips</h3>
        <p>Check your battery and tire pressure as temperature drops</p>
        <span class="tip-date">2025-11-10</span>
      </div>

      <div class="tip-card">
        <h3>üåø Leaf Phone Update</h3>
        <p>New fuel-efficient driving features now available</p>
        <span class="tip-date">2025-11-08</span>
      </div>

      <div class="tip-card">
        <h3>üå¶Ô∏è Rainy Weather Alert</h3>
        <p>Heavy rain expected this weekend. Check your wipers!</p>
        <span class="tip-date">2025-11-06</span>
      </div>
    </div>

    <!-- AI Assistant Section -->
    <div class="ai-assistant-section">
      <h2 class="section-title">ü§ñ AI Assistant</h2>
      <p class="section-subtitle">Describe your issue, get recommendations</p>
      <button class="chat-btn">üí¨ Chat with AI</button>
    </div>

    <!-- Payment Methods Section -->
    <div class="payment-methods-section">
      <h2 class="section-title">üí≥ Payment Methods</h2>
      <div class="payment-list">
        <div class="payment-item">
          <span>üíµ Cash</span>
          <span class="checkmark">‚úì</span>
        </div>
        <div class="payment-item">
          <span>üì± E-Wallet</span>
          <span class="checkmark">‚úì</span>
        </div>
        <div class="payment-item">
          <span>üí≥ Card</span>
          <span class="checkmark">‚úì</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Add Vehicle Modal -->
<!-- Delete Confirmation Modal -->
<div *ngIf="showDeleteConfirm" class="modal-overlay">
  <div class="modal-container" role="dialog" aria-modal="true" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Confirm Deletion</h3>
      <button class="modal-close-btn" (click)="cancelDelete()" [disabled]="isDeleting">‚úï</button>
    </div>
    <div class="modal-body">
      <p *ngIf="carToDelete">Delete <strong>{{ carToDelete.make }} {{ carToDelete.model }} ({{ carToDelete.licensePlate }})</strong>? This action cannot be undone.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-secondary" type="button" (click)="cancelDelete()" [disabled]="isDeleting">Clear</button>
      <button class="btn-primary" type="button" (click)="deleteCarConfirmed()" [disabled]="isDeleting">{{ isDeleting ? 'Deleting...' : 'Delete' }}</button>
    </div>
  </div>
</div>

<div *ngIf="isAddVehicleModalOpen" class="modal-overlay">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <app-add-vehicle-form
      (close)="closeAddVehicleModal()"
      (saved)="onVehicleSaved($event)">
    </app-add-vehicle-form>
  </div>
</div>
