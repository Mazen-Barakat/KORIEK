<div class="edit-car-container">
  <!-- Car Information Section -->
  <div class="car-info-section">
    <div class="section-header">
      <span class="car-icon">ğŸš—</span>
      <h2>Car Information</h2>
    </div>
    <p class="section-subtitle">Update your car details</p>

    <!-- Success / Error message -->
    <div *ngIf="message" class="alert" [ngClass]="messageType === 'success' ? 'success' : 'error'">
      {{ message }}
    </div>

    <div class="form-grid">
      <!-- Update Form: 2x2 Grid Layout -->
      <div class="update-form-grid">
        <!-- Engine Capacity -->
        <div class="form-group">
          <label for="engine-capacity">Engine Capacity</label>
          <select 
            id="engine-capacity" 
            [(ngModel)]="updateModel.engineCapacity" 
            class="form-input"
          >
            <option *ngFor="let capacity of engineCapacities" [value]="capacity">
              {{ capacity }} CC
            </option>
          </select>
        </div>

        <!-- Current Mileage -->
        <div class="form-group">
          <label for="current-mileage">Current Mileage (km)</label>
          <input 
            type="number" 
            id="current-mileage" 
            [(ngModel)]="updateModel.currentMileage" 
            class="form-input"
          />
        </div>

        <!-- Transmission Type -->
        <div class="form-group">
          <label for="transmission-type">Transmission Type</label>
          <select 
            id="transmission-type" 
            [(ngModel)]="updateModel.transmissionType" 
            class="form-input"
          >
            <option value="" disabled>Select Transmission</option>
            <option *ngFor="let type of transmissionTypes" [value]="type">
              {{ type }}
            </option>
          </select>
        </div>

        <!-- Fuel Type -->
        <div class="form-group">
          <label for="fuel-type">Fuel Type</label>
          <select 
            id="fuel-type" 
            [(ngModel)]="updateModel.fuelType" 
            class="form-input"
          >
            <option value="" disabled>Select Fuel Type</option>
            <option *ngFor="let fuel of fuelTypes" [value]="fuel">
              {{ fuel }}
            </option>
          </select>
        </div>
      </div>

      <!-- Save Button -->
      <div class="form-actions">
        <button type="button" class="btn-save" (click)="saveVehicleInfo()" [disabled]="isSaving">
          {{ isSaving ? 'Saving...' : 'Save Vehicle Info' }}
        </button>
      </div>
    </div>
  </div>

  <!-- Condition Indicators Section -->
  <div class="indicators-section">
    <div class="indicators-header">
      <div class="section-header">
        <span class="indicator-icon">ğŸ”§</span>
        <h2>Condition Indicators</h2>
      </div>
      <button class="btn-save" (click)="addIndicator()">Add Indicator</button>
    </div>
    <p class="section-subtitle">Manage maintenance indicators for your car</p>

    <!-- Existing Indicators -->
    <div class="indicators-title">Existing Indicators</div>

    <div class="indicators-list">
      <!-- Oil Change Indicator -->
      <div class="indicator-card">
        <div class="indicator-header">
          <div class="indicator-name">
            <span class="indicator-emoji">ğŸ›¢ï¸</span>
            <span class="indicator-status-badge good">Good</span>
          </div>
          <button class="delete-btn" (click)="deleteIndicator('oil-change')">
            ğŸ—‘ï¸
          </button>
        </div>

        <div class="indicator-label">Oil Change</div>

        <div class="indicator-details">
          <div class="detail-row">
            <span class="detail-label">Last Inspected Date</span>
            <span class="detail-label">Next Inspected Date</span>
            <span class="detail-label">Next Mileage (km)</span>
          </div>
          <div class="detail-row">
            <input type="text" value="10/08/2025" class="detail-input" />
            <input type="text" value="11/25/2025" class="detail-input" />
            <input type="number" value="50000" class="detail-input" />
          </div>
        </div>
      </div>

      <!-- Tire Rotation Indicator -->
      <div class="indicator-card">
        <div class="indicator-header">
          <div class="indicator-name">
            <span class="indicator-emoji">âš™ï¸</span>
            <span class="indicator-status-badge attention">Attention</span>
          </div>
          <button class="delete-btn" (click)="deleteIndicator('tire-rotation')">
            ğŸ—‘ï¸
          </button>
        </div>

        <div class="indicator-label">Tire Rotation</div>

        <div class="indicator-details">
          <div class="detail-row">
            <span class="detail-label">Last Inspected Date</span>
            <span class="detail-label">Next Inspected Date</span>
            <span class="detail-label">Next Mileage (km)</span>
          </div>
          <div class="detail-row">
            <input type="text" value="09/10/2025" class="detail-input" />
            <input type="text" value="11/10/2025" class="detail-input" />
            <input type="number" value="45000" class="detail-input" />
          </div>
        </div>
      </div>

      <!-- Battery Health Indicator -->
      <div class="indicator-card">
        <div class="indicator-header">
          <div class="indicator-name">
            <span class="indicator-emoji">ğŸ”‹</span>
            <span class="indicator-status-badge good">Good</span>
          </div>
          <button class="delete-btn" (click)="deleteIndicator('battery-health')">
            ğŸ—‘ï¸
          </button>
        </div>

        <div class="indicator-label">Battery Health</div>

        <div class="indicator-details">
          <div class="detail-row">
            <span class="detail-label">Last Inspected Date</span>
            <span class="detail-label">Next Inspected Date</span>
            <span class="detail-label">Next Mileage (km)</span>
          </div>
          <div class="detail-row">
            <input type="text" value="08/10/2025" class="detail-input" />
            <input type="text" value="02/10/2026" class="detail-input" />
            <input type="number" value="0" class="detail-input" />
          </div>
        </div>
      </div>

      <!-- Air Filter Indicator -->
      <div class="indicator-card">
        <div class="indicator-header">
          <div class="indicator-name">
            <span class="indicator-emoji">âš ï¸</span>
            <span class="indicator-status-badge urgent">Urgent</span>
          </div>
          <button class="delete-btn" (click)="deleteIndicator('air-filter')">
            ğŸ—‘ï¸
          </button>
        </div>

        <div class="indicator-label">Air Filter</div>

        <div class="indicator-details">
          <div class="detail-row">
            <span class="detail-label">Last Inspected Date</span>
            <span class="detail-label">Next Inspected Date</span>
            <span class="detail-label">Next Mileage (km)</span>
          </div>
          <div class="detail-row">
            <input type="text" value="06/10/2025" class="detail-input" />
            <input type="text" value="12/10/2025" class="detail-input" />
            <input type="number" value="45000" class="detail-input" />
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Select Top 4 Indicators Section -->
  <div class="dashboard-section">
    <div class="section-header">
      <span class="dashboard-icon">âœ“</span>
      <h2>Select Top 4 Indicators for Dashboard</h2>
    </div>
    <p class="section-subtitle">Select exactly 4 indicators to display on the car owner dashboard <span class="link-text">(4/4 Selected)</span></p>

    <div class="dashboard-grid">
      <div class="dashboard-card selected">
        <button class="remove-btn">âœ•</button>
        <span class="dashboard-emoji">ğŸ›¢ï¸</span>
        <span class="dashboard-label">Oil Change</span>
      </div>

      <div class="dashboard-card selected">
        <button class="remove-btn">âœ•</button>
        <span class="dashboard-emoji">âš™ï¸</span>
        <span class="dashboard-label">Tire Rotation</span>
      </div>

      <div class="dashboard-card selected">
        <button class="remove-btn">âœ•</button>
        <span class="dashboard-emoji">ğŸ”‹</span>
        <span class="dashboard-label">Battery Health</span>
      </div>

      <div class="dashboard-card selected">
        <button class="remove-btn">âœ•</button>
        <span class="dashboard-emoji">âš ï¸</span>
        <span class="dashboard-label">Air Filter</span>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons">
    <button class="cancel-btn" (click)="cancel()">
      âœ• Cancel
    </button>
    <button class="save-btn" (click)="saveChanges()">
      Save Changes
    </button>
  </div>
</div>
